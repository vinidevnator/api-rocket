"use strict";var s=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var v=Object.prototype.hasOwnProperty;var u=(n,e)=>{for(var r in e)s(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of p(e))!v.call(n,o)&&o!==r&&s(n,o,{get:()=>e[o],enumerable:!(a=f(e,o))||a.enumerable});return n};var x=n=>d(s({},"__esModule",{value:!0}),n);var g={};u(g,{config:()=>l,knex:()=>b});module.exports=x(g);var c=require("knex");var D=require("dotenv/config"),t=require("zod"),A=t.z.object({NODE_ENV:t.z.enum(["development","production","test"]).default("development"),DATABASE_URL:t.z.string(),PORT:t.z.number().default(3333)}),i=A.safeParse(process.env);if(i.success===!1)throw console.error("\u274C Invalid environment variables",i.error.format()),new Error("Invalid environment variables.");var m=i.data;var l={client:"sqlite3",connection:{filename:m.DATABASE_URL},useNullAsDefault:!0,migrations:{extension:"ts",directory:"./db/migrations"}},b=(0,c.knex)(l);0&&(module.exports={config,knex});
